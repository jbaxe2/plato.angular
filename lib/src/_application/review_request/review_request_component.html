<style>
  :host ::ng-deep header {
    background-color: #718198 !important;
    border: 1px solid #062c43 !important;
    font-weight: bold !important;
  }

  strong {
    color: #062c43;
  }

  material-list {
    margin-bottom: 8px;
    border-top: 2px dashed #062c43;
    padding: 8px 0 0 0;
  }

  .request-review-container {
    margin-bottom: 8px;
    padding: 0 8px 0 0;
    max-height: 500px;
    overflow-y: scroll;
  }
</style>

<modal [visible]="isVisible">
  <material-dialog headered>
    <div header>
      <h3>Review and submit the course request...</h3>
    </div>

    <div *ngIf="null != courseRequest" class="request-review-container">
      <material-expansionpanel
          name="Submitting request for:"
          [expanded]="true"
          [showSaveCancel]="false"
          class="request-info-panel dense">
        <p>
          <span>
            <strong>Plato Username:</strong>&nbsp;
            {{courseRequest.platoUser.username}}
          </span><br>
          <span>
            <strong>Name:</strong>&nbsp;
            {{courseRequest.platoUser.firstName}}
            {{courseRequest.platoUser.lastName}}
          </span><br>
          <span>
            <strong>E-mail:</strong>&nbsp;
            {{courseRequest.platoUser.email}}
          </span>
        </p>
      </material-expansionpanel>

      <material-expansionpanel
          name="Requested sections:"
          [expanded]="true"
          [showSaveCancel]="false"
          class="request-info-panel dense">
        <material-list>
          <material-list-item *ngFor="let section of courseRequest.sections">
            [{{section.sectionId}}] {{section.title}}
          </material-list-item><br>
        </material-list>
      </material-expansionpanel>

      <material-expansionpanel
          *ngIf="!courseRequest.crossListings.isEmpty"
          name="Cross-listing information:"
          [expanded]="true"
          [showSaveCancel]="false"
          class="request-info-panel dense">
        <material-list
            *ngFor="let crossListing of courseRequest.crossListings; let i=index">
          <strong style="margin-left: 8px;">Cross-listing set #{{i+1}} contains:</strong><br>

          <material-list-item *ngFor="let section of crossListing.sections">
            [{{section.sectionId}}] {{section.title}}
          </material-list-item>
        </material-list>
      </material-expansionpanel>

      <material-expansionpanel
          *ngIf="!courseRequest.previousContents.isEmpty"
          name="Previous content information:"
          [expanded]="true"
          [showSaveCancel]="false"
          class="request-info-panel dense">
        <material-list>
          <material-list-item
              *ngFor="let previousContent of courseRequest.previousContents">
            {{previousContent.section.sectionId}} &#8612;
            {{previousContent.enrollment.courseId}}
          </material-list-item>
        </material-list>
      </material-expansionpanel>
    </div>

    <div footer>
      <material-button raised (trigger)="submitCourseRequest()">
        Submit Course Request
      </material-button>

      <material-button raised (trigger)="isVisible = false">
        Edit Information
      </material-button>
    </div>
  </material-dialog>
</modal>
